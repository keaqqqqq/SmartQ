@using FNBReservation.Portal.Models
@using Microsoft.JSInterop
@inject IJSRuntime JS
@rendermode InteractiveServer

<MudPaper Class="pa-4 mb-4" Elevation="2">
    <MudText Typo="Typo.h5" Class="mb-4">Table Management</MudText>

    @if (string.IsNullOrEmpty(OutletId))
    {
        <MudAlert Severity="Severity.Warning">Please select an outlet first to manage tables.</MudAlert>
    }
    else
    {
        <TablesEditor OutletId="Guid.Parse(OutletId)" @bind-Tables="Tables" />
    }
</MudPaper>

@code {
    [Parameter] public string OutletId { get; set; }
    [Parameter] public List<TableInfo> Tables { get; set; } = new List<TableInfo>();
    [Parameter] public EventCallback<List<TableInfo>> TablesChanged { get; set; }

    protected override async Task OnParametersSetAsync()
    {
        if (TablesChanged.HasDelegate && Tables != null)
        {
            await TablesChanged.InvokeAsync(Tables);
        }
    }
} 